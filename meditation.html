<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self';
                   style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
                   font-src 'self' https://cdn.jsdelivr.net;
                   script-src 'self';
                   img-src 'self' data:;
                   connect-src 'self';">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <title>λ…μƒ νƒ€μ΄λ¨Έ | Buddha Korea</title>
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/meditation.css">
</head>
<body>
    <!-- μ ‘κ·Όμ„±: κ±΄λ„λ›°κΈ° λ§ν¬ -->
    <a href="#screen-setup" class="skip-link">λ…μƒ μ„¤μ •μΌλ΅ κ±΄λ„λ›°κΈ°</a>

    <!-- ν—¤λ” -->
    <header class="site-header">
        <div class="header-container">
            <a href="index.html" class="header-logo">
                <img src="assets/buddha-line.png" alt="Buddha Korea" class="logo-icon">
                <span class="logo-text">Buddha Korea</span>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="nav-link">ν™</a>
                <a href="sutra-writing.html" class="nav-link">μ‚¬κ²½</a>
                <a href="meditation.html" class="nav-link">λ…μƒ</a>
            </nav>
        </div>
    </header>
    <div class="header-spacer"></div>

    <!-- λ§μ°μ¤ λ”°λΌλ‹¤λ‹λ” λΉ› ν¨κ³Ό -->
    <div class="mouse-light"></div>

    <!-- λ©”μΈ μ»¨ν…μ΄λ„ -->
    <div class="meditation-page">

        <!-- 1. λ…μƒ μ„¤μ • ν™”λ©΄ -->
        <div id="screen-setup" class="screen show">
            <div class="center-box">
                <h1>λ…μƒ νƒ€μ΄λ¨Έ</h1>
                <p class="subtitle">κ³ μ”ν μ•‰μ•„ λ§μμ„ κ΄€μ°°ν•λ” μν–‰</p>

                <!-- μν–‰ μ•λ‚΄ μ„Ήμ… (μ ‘μ΄μ‹) -->
                <div class="guidance-container">
                    <button class="guidance-toggle" aria-expanded="false" aria-controls="guidance-content" aria-label="νΈν΅ λ§μμ±™κΉ€ μν–‰ μ•λ‚΄ μ—΄κΈ°">
                        <span class="toggle-title">μν–‰ μ•λ‚΄</span>
                        <span class="toggle-icon" aria-hidden="true">β–Ό</span>
                    </button>

                    <div class="guidance-content closed" id="guidance-content">
                        <h3 class="guidance-title">νΈν΅ λ§μμ±™κΉ€ <span class="pali">(Δ€nΔpΔnassati)</span></h3>
                        <p class="guidance-intro">νΈν΅μ— λ€ν• λ§μμ±™κΉ€μ€ λΈ κ΄€μ°°μ ν• ν•νƒμ΄λ©°, κ°€μ¥ κΈ°λ³Έμ μ΄κ³  ν¨κ³Όμ μΈ λ…μƒ λ°©λ²•μ…λ‹λ‹¤.</p>

                        <div class="guidance-section">
                            <h4>μ¤€λΉ„</h4>
                            <p>μ΅°μ©ν• μ¥μ†μ—μ„ νΈμ•ν•κ² μ•‰μ•„ ν—λ¦¬λ¥Ό κ³§κ² μ„Έμ°κ³  μ •λ©΄μ„ ν–¥ν•΄ λ§μμ±™κΉ€μ„ ν™•λ¦½ν•©λ‹λ‹¤.</p>
                        </div>

                        <div class="guidance-section">
                            <h4>μν–‰ λ°©λ²•</h4>
                            <p>λ§μμ±™κΉ€ν•μ—¬ λ“¤μ΄μ‰¬κ³ , λ§μμ±™κΉ€ν•μ—¬ λ‚΄μ‰½λ‹λ‹¤.</p>
                        </div>

                        <div class="guidance-section">
                            <h4>κ΄€μ°°ν•κΈ°</h4>
                            <p>
                                κΈΈκ² λ“¤μ΄μ‰¬λ©΄ κΈΈκ² λ“¤μ΄μ‰°λ‹¤λ” κ²ƒμ„ μ•μ•„μ°¨λ¦½λ‹λ‹¤.<br>
                                κΈΈκ² λ‚΄μ‰¬λ©΄ κΈΈκ² λ‚΄μ‰°λ‹¤λ” κ²ƒμ„ μ•μ•„μ°¨λ¦½λ‹λ‹¤.<br>
                                μ§§κ² λ“¤μ΄μ‰¬κ³  λ‚΄μ‰¬λ” κ²ƒμ„ μ•μ•„μ°¨λ¦½λ‹λ‹¤.<br>
                                μ¨λΈμ„ κ²½ν—ν•λ©° λ“¤μ΄μ‰¬κ³  λ‚΄μ‰½λ‹λ‹¤.<br>
                                μ‹ μ²΄μ  μ‘μ©μ„ κ³ μ”ν ν•λ©° νΈν΅ν•©λ‹λ‹¤.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="duration-cards">
                    <div class="card" data-duration="10"
                         role="button" tabindex="0"
                         aria-label="10λ¶„ λ…μƒ μ‹μ‘">
                        <h2>10λ¶„</h2>
                        <p>μ§§μ€ μν–‰</p>
                    </div>
                    <div class="card" data-duration="20"
                         role="button" tabindex="0"
                         aria-label="20λ¶„ λ…μƒ μ‹μ‘">
                        <h2>20λ¶„</h2>
                        <p>κΈ°λ³Έ μν–‰</p>
                    </div>
                    <div class="card" data-duration="30"
                         role="button" tabindex="0"
                         aria-label="30λ¶„ λ…μƒ μ‹μ‘">
                        <h2>30λ¶„</h2>
                        <p>κΉμ€ μν–‰</p>
                    </div>
                </div>

                <div class="custom-duration">
                    <label for="custom-minutes">λ§μ¶¤ μ‹κ°„ (λ¶„)</label>
                    <input type="number" id="custom-minutes" min="1" max="120" placeholder="" aria-label="λ§μ¶¤ λ…μƒ μ‹κ°„ μ…λ ¥">
                    <button id="custom-start-btn" aria-label="λ§μ¶¤ μ‹κ°„μΌλ΅ λ…μƒ μ‹μ‘">μ‹μ‘</button>
                </div>
            </div>
        </div>

        <!-- 2. λ…μƒ μ§„ν–‰ ν™”λ©΄ -->
        <div id="screen-meditation" class="screen">
            <div class="meditation-container">
                <button class="back-btn" id="stop-btn" aria-label="λ…μƒ μ¤‘λ‹¨ν•κ³  μ„¤μ •μΌλ΅ λμ•„κ°€κΈ°">μ¤‘λ‹¨</button>

                <!-- νΈν΅ μ› -->
                <div class="breathing-circle" role="region" aria-label="λ…μƒ μ§„ν–‰ ν‘μ‹">
                    <svg class="progress-ring" width="300" height="300">
                        <circle class="progress-ring-bg" cx="150" cy="150" r="140" />
                        <circle class="progress-ring-circle" cx="150" cy="150" r="140" />
                    </svg>
                    <div class="time-display" aria-live="polite" aria-atomic="true">
                        <span id="time-remaining">00:00</span>
                    </div>
                </div>

                <p class="meditation-instruction">νΈν΅μ„ κ΄€μ°°ν•μ„Έμ”</p>
            </div>
        </div>

        <!-- 3. λ…μƒ μ™„λ£ ν™”λ©΄ -->
        <div id="screen-complete" class="screen">
            <div class="center-box">
                <div class="completion-icon">
                    <div class="glow"></div>
                    <div class="lotus">π·</div>
                </div>
                <h2 class="completion-text">λ…μƒ μ™„λ£</h2>
                <p class="completion-msg">κ³ μ”ν• λ§μμΌλ΅ λμ•„κ°‘λ‹λ‹¤</p>
                <button class="primary-btn" id="return-btn">λ‹¤μ‹ μ‹μ‘</button>
            </div>
        </div>

    </div>

    <script src="js/meditation.js"></script>
</body>
</html>
